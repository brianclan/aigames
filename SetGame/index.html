<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Set Card Game</title>
    <!-- Google AdSense 代码 -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3424102604992913"
      crossorigin="anonymous"
    ></script>
    <style>
      /* 插屏广告样式 */
      .interstitial-ad-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 5000;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        display: none;
      }

      .interstitial-ad-container {
        background-color: #fff;
        padding: 10px;
        border-radius: 10px;
        width: 320px;
        height: 280px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      .countdown-timer {
        position: absolute;
        top: -40px;
        left: 0;
        width: 100%;
        text-align: center;
        color: white;
        font-size: 18px;
        font-weight: bold;
      }
    </style>
    <script type="module" crossorigin>
      (function () {
        const b = document.createElement("link").relList;
        if (b && b.supports && b.supports("modulepreload")) return;
        for (const i of document.querySelectorAll('link[rel="modulepreload"]'))
          x(i);
        new MutationObserver((i) => {
          for (const c of i)
            if (c.type === "childList")
              for (const k of c.addedNodes)
                k.tagName === "LINK" && k.rel === "modulepreload" && x(k);
        }).observe(document, {childList: !0, subtree: !0});
        function T(i) {
          const c = {};
          return (
            i.integrity && (c.integrity = i.integrity),
            i.referrerPolicy && (c.referrerPolicy = i.referrerPolicy),
            i.crossOrigin === "use-credentials"
              ? (c.credentials = "include")
              : i.crossOrigin === "anonymous"
              ? (c.credentials = "omit")
              : (c.credentials = "same-origin"),
            c
          );
        }
        function x(i) {
          if (i.ep) return;
          i.ep = !0;
          const c = T(i);
          fetch(i.href, c);
        }
      })();
      document.addEventListener("DOMContentLoaded", () => {
        const e = {
            deck: [],
            cardsInPlay: [],
            selectedCards: [],
            setsFound: 0,
            gameOver: !1,
            introShown: !1,
            gameStarted: !1,
          },
          b = ["red", "green", "purple"],
          T = ["oval", "triangle", "rectangle"],
          x = [1, 2, 3],
          i = ["solid", "striped", "open"],
          c = document.getElementById("game-board"),
          k = document.getElementById("score"),
          G = document.getElementById("remaining"),
          v = document.getElementById("deal-cards"),
          D = document.getElementById("find-set"),
          H = document.getElementById("restart"),
          _ = document.getElementById("show-help"),
          u = document.getElementById("intro-overlay"),
          j = document.getElementById("start-game"),
          R = document.getElementById("dont-show-again"),
          U = document.getElementById("help-button"),
          O = document.getElementById("interstitial-ad-overlay"),
          w = document.getElementById("countdown-timer");
        let $ = null,
          p = 10,
          B = null;
        Y(),
          v.addEventListener("click", () => P(C)),
          D.addEventListener("click", () => P(t)),
          H.addEventListener("click", () => P(o)),
          _.addEventListener("click", () => P(f)),
          j.addEventListener("click", F),
          U.addEventListener("click", f);
        function P(n) {
          (B = n),
            (p = 10),
            (w.textContent = `广告将在 ${p} 秒后关闭`),
            (O.style.display = "flex");
          try {
            (adsbygoogle = window.adsbygoogle || []).push({});
          } catch (a) {
            console.error("插屏广告加载失败:", a);
          }
          $ = setInterval(() => {
            p--,
              (w.textContent = `广告将在 ${p} 秒后关闭`),
              p <= 0 && (clearInterval($), W());
          }, 1e3);
        }
        function W() {
          (O.style.display = "none"), B && (B(), (B = null));
        }
        function Y() {
          localStorage.getItem("set_game_played") ? (F(!0), L()) : (L(), f());
        }
        function f() {
          u.classList.remove("hidden"), (e.introShown = !0);
        }
        function F(n) {
          R.checked && localStorage.setItem("set_game_played", "true"),
            e.cardsInPlay.length > 0 && h(),
            n
              ? (u.classList.add("hidden"),
                e.gameStarted ||
                  (e.cardsInPlay.length === 0 ? L() : (h(), I())))
              : ((u.style.opacity = "1"),
                (u.style.transition = "opacity 0.5s ease"),
                setTimeout(() => {
                  (u.style.opacity = "0"),
                    setTimeout(() => {
                      u.classList.add("hidden"),
                        (u.style.opacity = ""),
                        (u.style.transition = ""),
                        e.cardsInPlay.length === 0 ? L() : (h(), I());
                    }, 500);
                }, 10)),
            (e.introShown = !0);
        }
        function L() {
          (e.gameOver = !1),
            (e.cardsInPlay = []),
            V(),
            N(),
            K(),
            c.children.length === 0 &&
              e.cardsInPlay.length > 0 &&
              (console.log("Forcing re-render of cards"), h()),
            I(),
            (e.gameStarted = !0);
        }
        function V() {
          e.deck = [];
          for (const n of b)
            for (const a of T)
              for (const l of x)
                for (const r of i)
                  e.deck.push({color: n, shape: a, number: l, shading: r});
        }
        function N() {
          for (let n = e.deck.length - 1; n > 0; n--) {
            const a = Math.floor(Math.random() * (n + 1));
            [e.deck[n], e.deck[a]] = [e.deck[a], e.deck[n]];
          }
        }
        function K() {
          e.cardsInPlay = [];
          for (let n = 0; n < 12; n++)
            e.deck.length > 0 && e.cardsInPlay.push(e.deck.pop());
          h();
        }
        function C() {
          if (e.gameOver) return;
          if (d()) {
            m("There is still a set on the board. Find it first!"), g();
            return;
          }
          const n = [];
          for (let a = 0; a < 3; a++)
            if (e.deck.length > 0) {
              const l = e.deck.pop();
              e.cardsInPlay.push(l), n.push(e.cardsInPlay.length - 1);
            }
          h(),
            n.length > 0 &&
              setTimeout(() => {
                n.forEach((a) => {
                  const l = document.querySelector(`.card[data-index="${a}"]`);
                  l &&
                    (l.classList.add("new-card"),
                    setTimeout(() => l.classList.remove("new-card"), 1e3));
                });
              }, 100),
            I();
        }
        function h() {
          (c.innerHTML = ""),
            e.cardsInPlay.forEach((n, a) => {
              const l = document.createElement("div");
              (l.className = "card"),
                (l.dataset.index = a),
                e.selectedCards.includes(a) && l.classList.add("selected");
              const y = q(n);
              l.appendChild(y),
                l.addEventListener("click", () => M(a)),
                c.appendChild(l);
            }),
            c.offsetHeight;
        }
        function q(n) {
          const a = document.createElement("div");
          a.className = "card-content";
          for (let l = 0; l < n.number; l++) {
            const r = document.createElement("div");
            (r.className = `symbol ${n.shape} ${n.shading}`),
              (r.style.color = n.color);
            let y = "";
            n.shape === "triangle"
              ? ((r.style.color = n.color),
                (r.style.opacity = ""),
                (r.style.background = ""),
                (r.style.borderBottomColor = ""))
              : n.shape === "rectangle"
              ? n.shading === "open"
                ? ((r.style.background = "transparent"),
                  (r.style.border = `2px solid ${n.color}`))
                : n.shading === "striped"
                ? ((r.style.background = `repeating-linear-gradient(45deg, ${n.color}, ${n.color} 3px, transparent 3px, transparent 6px)`),
                  (r.style.border = `1px solid ${n.color}`))
                : (r.style.background = n.color)
              : n.shape === "oval" &&
                (n.shading === "open"
                  ? ((r.style.background = "transparent"),
                    (r.style.border = `2px solid ${n.color}`))
                  : n.shading === "striped"
                  ? ((r.style.background = `repeating-linear-gradient(45deg, ${n.color}, ${n.color} 3px, transparent 3px, transparent 6px)`),
                    (r.style.border = `1px solid ${n.color}`))
                  : (r.style.background = n.color)),
              (r.textContent = y),
              n.shape === "triangle" ||
                (n.shape === "rectangle"
                  ? ((r.style.width = "60%"),
                    (r.style.height = n.number > 2 ? "20px" : "25px"))
                  : n.shape === "oval" &&
                    ((r.style.width = "60%"),
                    (r.style.height = n.number > 2 ? "20px" : "25px"),
                    (r.style.borderRadius = "50%")));
            const E = document.createElement("div");
            (E.className = `symbol-wrapper ${n.shape}-wrapper`),
              (E.style.display = "flex"),
              (E.style.alignItems = "center"),
              (E.style.justifyContent = "center"),
              (E.style.padding = "5px"),
              (E.style.width = "100%"),
              (E.style.height = (n.number > 2, "33%")),
              E.appendChild(r),
              a.appendChild(E);
          }
          return a;
        }
        function M(n) {
          if (e.gameOver) return;
          const a = document.querySelector(`.card[data-index="${n}"]`),
            l = e.selectedCards.indexOf(n);
          l !== -1
            ? (e.selectedCards.splice(l, 1), a.classList.remove("selected"))
            : (e.selectedCards.push(n),
              a.classList.add("selected"),
              e.selectedCards.length === 3 && A());
        }
        function A() {
          const n = e.selectedCards.map((l) => e.cardsInPlay[l]),
            a = e.selectedCards.map((l) =>
              document.querySelector(`.card[data-index="${l}"]`)
            );
          S(n)
            ? (a.forEach((l) => {
                l.classList.add("correct-set");
              }),
              setTimeout(() => {
                z();
              }, 800))
            : (a.forEach((l) => {
                l.classList.add("incorrect-set");
              }),
              setTimeout(() => {
                a.forEach((l) => {
                  l.classList.remove("incorrect-set"),
                    l.classList.remove("selected");
                }),
                  (e.selectedCards = []);
              }, 1e3));
        }
        function S(n) {
          const a = (l) => {
            const r = n.map((y) => y[l]);
            return (
              (r[0] === r[1] && r[1] === r[2]) ||
              (r[0] !== r[1] && r[1] !== r[2] && r[0] !== r[2])
            );
          };
          return a("color") && a("shape") && a("number") && a("shading");
        }
        function z() {
          e.setsFound++;
          const n = [...e.selectedCards].sort((a, l) => l - a);
          for (const a of n)
            e.deck.length > 0
              ? (e.cardsInPlay[a] = e.deck.pop())
              : e.cardsInPlay.splice(a, 1);
          (e.selectedCards = []),
            h(),
            I(),
            m(`Set found! You've found ${e.setsFound} sets so far.`, "success"),
            e.deck.length === 0 &&
              !d() &&
              ((e.gameOver = !0),
              setTimeout(() => {
                J();
              }, 500));
        }
        function I() {
          (k.textContent = e.setsFound),
            (G.textContent = e.deck.length),
            (v.disabled = e.deck.length === 0),
            e.deck.length === 0
              ? v.classList.add("disabled")
              : v.classList.remove("disabled");
        }
        function t() {
          if (e.gameOver) return;
          const n = s();
          n
            ? ((e.selectedCards = n),
              h(),
              n.forEach((a) => {
                document
                  .querySelector(`.card[data-index="${a}"]`)
                  .classList.add("hint-pulse");
              }),
              setTimeout(() => {
                n.forEach((a) => {
                  document
                    .querySelector(`.card[data-index="${a}"]`)
                    .classList.remove("hint-pulse");
                }),
                  (e.selectedCards = []),
                  h();
              }, 2e3))
            : m("No sets found on the board. Deal more cards.");
        }
        function s() {
          const n = e.cardsInPlay.length;
          for (let a = 0; a < n - 2; a++)
            for (let l = a + 1; l < n - 1; l++)
              for (let r = l + 1; r < n; r++) {
                const y = [
                  e.cardsInPlay[a],
                  e.cardsInPlay[l],
                  e.cardsInPlay[r],
                ];
                if (S(y)) return [a, l, r];
              }
          return null;
        }
        function d() {
          return s() !== null;
        }
        function o() {
          (e.deck = []),
            (e.cardsInPlay = []),
            (e.selectedCards = []),
            (e.setsFound = 0),
            (e.gameOver = !1),
            (c.innerHTML = ""),
            c.classList.add("restart-animation"),
            setTimeout(() => {
              c.classList.remove("restart-animation"), L();
            }, 500);
        }
        function m(n, a = "warning") {
          const l = document.querySelector(".notification");
          l && l.remove();
          const r = document.createElement("div");
          (r.className = `notification ${a}`),
            (r.textContent = n),
            document.body.appendChild(r),
            setTimeout(() => r.classList.add("show"), 10),
            setTimeout(() => {
              r.classList.remove("show"), setTimeout(() => r.remove(), 300);
            }, 3e3);
        }
        function g() {
          c.classList.add("highlight"),
            setTimeout(() => {
              c.classList.remove("highlight");
            }, 1e3);
        }
        function J() {
          const n = document.createElement("div");
          n.className = "game-over-modal";
          const a = document.createElement("div");
          a.className = "modal-content";
          const l = document.createElement("h2");
          l.textContent = "Game Over!";
          const r = document.createElement("p");
          r.textContent = `Congratulations! You found ${e.setsFound} sets.`;
          const y = document.createElement("button");
          (y.textContent = "Play Again"),
            y.addEventListener("click", () => {
              n.remove(), o();
            }),
            a.appendChild(l),
            a.appendChild(r),
            a.appendChild(y),
            n.appendChild(a),
            document.body.appendChild(n),
            setTimeout(() => {
              n.classList.add("show");
            }, 10);
        }
        window.addEventListener("load", () => {
          setTimeout(() => {
            c.children.length === 0 &&
              e.cardsInPlay.length > 0 &&
              (console.log("Window loaded: Forcing re-render of cards"),
              h(),
              I());
          }, 500);
        });
      });
      document.addEventListener("DOMContentLoaded", () => {
        const e = {
            deck: [],
            cardsInPlay: [],
            selectedCards: [],
            setsFound: 0,
            gameOver: !1,
            introShown: !1,
            gameStarted: !1,
          },
          b = ["red", "green", "purple"],
          T = ["oval", "triangle", "rectangle"],
          x = [1, 2, 3],
          i = ["solid", "striped", "open"],
          c = document.getElementById("game-board"),
          k = document.getElementById("score"),
          G = document.getElementById("remaining"),
          v = document.getElementById("deal-cards"),
          D = document.getElementById("find-set"),
          H = document.getElementById("restart"),
          _ = document.getElementById("show-help"),
          u = document.getElementById("intro-overlay"),
          j = document.getElementById("start-game"),
          R = document.getElementById("dont-show-again"),
          U = document.getElementById("help-button");
        O(),
          v.addEventListener("click", Y),
          D.addEventListener("click", h),
          H.addEventListener("click", A),
          _.addEventListener("click", w),
          j.addEventListener("click", $),
          U.addEventListener("click", w);
        function O() {
          localStorage.getItem("set_game_played") ? ($(!0), p()) : (p(), w());
        }
        function w() {
          u.classList.remove("hidden"), (e.introShown = !0);
        }
        function $(t) {
          R.checked && localStorage.setItem("set_game_played", "true"),
            e.cardsInPlay.length > 0 && f(),
            t
              ? (u.classList.add("hidden"),
                e.gameStarted ||
                  (e.cardsInPlay.length === 0 ? p() : (f(), C())))
              : ((u.style.opacity = "1"),
                (u.style.transition = "opacity 0.5s ease"),
                setTimeout(() => {
                  (u.style.opacity = "0"),
                    setTimeout(() => {
                      u.classList.add("hidden"),
                        (u.style.opacity = ""),
                        (u.style.transition = ""),
                        e.cardsInPlay.length === 0 ? p() : (f(), C());
                    }, 500);
                }, 10)),
            (e.introShown = !0);
        }
        function p() {
          (e.gameOver = !1),
            (e.cardsInPlay = []),
            B(),
            P(),
            W(),
            c.children.length === 0 &&
              e.cardsInPlay.length > 0 &&
              (console.log("Forcing re-render of cards"), f()),
            C(),
            (e.gameStarted = !0);
        }
        function B() {
          e.deck = [];
          for (const t of b)
            for (const s of T)
              for (const d of x)
                for (const o of i)
                  e.deck.push({color: t, shape: s, number: d, shading: o});
        }
        function P() {
          for (let t = e.deck.length - 1; t > 0; t--) {
            const s = Math.floor(Math.random() * (t + 1));
            [e.deck[t], e.deck[s]] = [e.deck[s], e.deck[t]];
          }
        }
        function W() {
          e.cardsInPlay = [];
          for (let t = 0; t < 12; t++)
            e.deck.length > 0 && e.cardsInPlay.push(e.deck.pop());
          f();
        }
        function Y() {
          if (e.gameOver) return;
          if (M()) {
            S("There is still a set on the board. Find it first!"), z();
            return;
          }
          const t = [];
          for (let s = 0; s < 3; s++)
            if (e.deck.length > 0) {
              const d = e.deck.pop();
              e.cardsInPlay.push(d), t.push(e.cardsInPlay.length - 1);
            }
          f(),
            t.length > 0 &&
              setTimeout(() => {
                t.forEach((s) => {
                  const d = document.querySelector(`.card[data-index="${s}"]`);
                  d &&
                    (d.classList.add("new-card"),
                    setTimeout(() => d.classList.remove("new-card"), 1e3));
                });
              }, 100),
            C();
        }
        function f() {
          (c.innerHTML = ""),
            e.cardsInPlay.forEach((t, s) => {
              const d = document.createElement("div");
              (d.className = "card"),
                (d.dataset.index = s),
                e.selectedCards.includes(s) && d.classList.add("selected");
              const m = F(t);
              d.appendChild(m),
                d.addEventListener("click", () => L(s)),
                c.appendChild(d);
            }),
            c.offsetHeight;
        }
        function F(t) {
          const s = document.createElement("div");
          s.className = "card-content";
          for (let d = 0; d < t.number; d++) {
            const o = document.createElement("div");
            (o.className = `symbol ${t.shape} ${t.shading}`),
              (o.style.color = t.color);
            let m = "";
            t.shape === "triangle"
              ? ((o.style.color = t.color),
                (o.style.opacity = ""),
                (o.style.background = ""),
                (o.style.borderBottomColor = ""))
              : t.shape === "rectangle"
              ? t.shading === "open"
                ? ((o.style.background = "transparent"),
                  (o.style.border = `2px solid ${t.color}`))
                : t.shading === "striped"
                ? ((o.style.background = `repeating-linear-gradient(45deg, ${t.color}, ${t.color} 3px, transparent 3px, transparent 6px)`),
                  (o.style.border = `1px solid ${t.color}`))
                : (o.style.background = t.color)
              : t.shape === "oval" &&
                (t.shading === "open"
                  ? ((o.style.background = "transparent"),
                    (o.style.border = `2px solid ${t.color}`))
                  : t.shading === "striped"
                  ? ((o.style.background = `repeating-linear-gradient(45deg, ${t.color}, ${t.color} 3px, transparent 3px, transparent 6px)`),
                    (o.style.border = `1px solid ${t.color}`))
                  : (o.style.background = t.color)),
              (o.textContent = m),
              t.shape === "triangle" ||
                (t.shape === "rectangle"
                  ? ((o.style.width = "60%"),
                    (o.style.height = t.number > 2 ? "20px" : "25px"))
                  : t.shape === "oval" &&
                    ((o.style.width = "60%"),
                    (o.style.height = t.number > 2 ? "20px" : "25px"),
                    (o.style.borderRadius = "50%")));
            const g = document.createElement("div");
            (g.className = `symbol-wrapper ${t.shape}-wrapper`),
              (g.style.display = "flex"),
              (g.style.alignItems = "center"),
              (g.style.justifyContent = "center"),
              (g.style.padding = "5px"),
              (g.style.width = "100%"),
              (g.style.height = (t.number > 2, "33%")),
              g.appendChild(o),
              s.appendChild(g);
          }
          return s;
        }
        function L(t) {
          if (e.gameOver) return;
          const s = document.querySelector(`.card[data-index="${t}"]`),
            d = e.selectedCards.indexOf(t);
          d !== -1
            ? (e.selectedCards.splice(d, 1), s.classList.remove("selected"))
            : (e.selectedCards.push(t),
              s.classList.add("selected"),
              e.selectedCards.length === 3 && V());
        }
        function V() {
          const t = e.selectedCards.map((d) => e.cardsInPlay[d]),
            s = e.selectedCards.map((d) =>
              document.querySelector(`.card[data-index="${d}"]`)
            );
          N(t)
            ? (s.forEach((d) => {
                d.classList.add("correct-set");
              }),
              setTimeout(() => {
                K();
              }, 800))
            : (s.forEach((d) => {
                d.classList.add("incorrect-set");
              }),
              setTimeout(() => {
                s.forEach((d) => {
                  d.classList.remove("incorrect-set"),
                    d.classList.remove("selected");
                }),
                  (e.selectedCards = []);
              }, 1e3));
        }
        function N(t) {
          const s = (d) => {
            const o = t.map((m) => m[d]);
            return (
              (o[0] === o[1] && o[1] === o[2]) ||
              (o[0] !== o[1] && o[1] !== o[2] && o[0] !== o[2])
            );
          };
          return s("color") && s("shape") && s("number") && s("shading");
        }
        function K() {
          e.setsFound++;
          const t = [...e.selectedCards].sort((s, d) => d - s);
          for (const s of t)
            e.deck.length > 0
              ? (e.cardsInPlay[s] = e.deck.pop())
              : e.cardsInPlay.splice(s, 1);
          (e.selectedCards = []),
            f(),
            C(),
            S(`Set found! You've found ${e.setsFound} sets so far.`, "success"),
            e.deck.length === 0 &&
              !M() &&
              ((e.gameOver = !0),
              setTimeout(() => {
                I();
              }, 500));
        }
        function C() {
          (k.textContent = e.setsFound),
            (G.textContent = e.deck.length),
            (v.disabled = e.deck.length === 0),
            e.deck.length === 0
              ? v.classList.add("disabled")
              : v.classList.remove("disabled");
        }
        function h() {
          if (e.gameOver) return;
          const t = q();
          t
            ? ((e.selectedCards = t),
              f(),
              t.forEach((s) => {
                document
                  .querySelector(`.card[data-index="${s}"]`)
                  .classList.add("hint-pulse");
              }),
              setTimeout(() => {
                t.forEach((s) => {
                  document
                    .querySelector(`.card[data-index="${s}"]`)
                    .classList.remove("hint-pulse");
                }),
                  (e.selectedCards = []),
                  f();
              }, 2e3))
            : S("No sets found on the board. Deal more cards.");
        }
        function q() {
          const t = e.cardsInPlay.length;
          for (let s = 0; s < t - 2; s++)
            for (let d = s + 1; d < t - 1; d++)
              for (let o = d + 1; o < t; o++) {
                const m = [
                  e.cardsInPlay[s],
                  e.cardsInPlay[d],
                  e.cardsInPlay[o],
                ];
                if (N(m)) return [s, d, o];
              }
          return null;
        }
        function M() {
          return q() !== null;
        }
        function A() {
          (e.deck = []),
            (e.cardsInPlay = []),
            (e.selectedCards = []),
            (e.setsFound = 0),
            (e.gameOver = !1),
            (c.innerHTML = ""),
            c.classList.add("restart-animation"),
            setTimeout(() => {
              c.classList.remove("restart-animation"), p();
            }, 500);
        }
        function S(t, s = "warning") {
          const d = document.querySelector(".notification");
          d && d.remove();
          const o = document.createElement("div");
          (o.className = `notification ${s}`),
            (o.textContent = t),
            document.body.appendChild(o),
            setTimeout(() => o.classList.add("show"), 10),
            setTimeout(() => {
              o.classList.remove("show"), setTimeout(() => o.remove(), 300);
            }, 3e3);
        }
        function z() {
          c.classList.add("highlight"),
            setTimeout(() => {
              c.classList.remove("highlight");
            }, 1e3);
        }
        function I() {
          const t = document.createElement("div");
          t.className = "game-over-modal";
          const s = document.createElement("div");
          s.className = "modal-content";
          const d = document.createElement("h2");
          d.textContent = "Game Over!";
          const o = document.createElement("p");
          o.textContent = `Congratulations! You found ${e.setsFound} sets.`;
          const m = document.createElement("button");
          (m.textContent = "Play Again"),
            m.addEventListener("click", () => {
              t.remove(), A();
            }),
            s.appendChild(d),
            s.appendChild(o),
            s.appendChild(m),
            t.appendChild(s),
            document.body.appendChild(t),
            setTimeout(() => {
              t.classList.add("show");
            }, 10);
        }
        window.addEventListener("load", () => {
          setTimeout(() => {
            c.children.length === 0 &&
              e.cardsInPlay.length > 0 &&
              (console.log("Window loaded: Forcing re-render of cards"),
              f(),
              C());
          }, 500);
        });
      });
    </script>
    <style rel="stylesheet" crossorigin>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
        background-color: #e9f5f5;
        padding: 20px;
        min-height: 100vh;
      }
      .container {
        max-width: 1000px;
        margin: 0 auto;
        background-color: #fff;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 5px 15px #0000001a;
        position: relative;
        z-index: 1;
      }
      header {
        text-align: center;
        margin-bottom: 20px;
      }
      h1 {
        color: #2c3e50;
        font-size: 2.2rem;
        margin-bottom: 5px;
      }
      .game-info {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
        padding: 12px 15px;
        background-color: #f1f8f8;
        border-radius: 8px;
        box-shadow: 0 2px 4px #0000000d;
      }
      .stats {
        display: flex;
        gap: 15px;
        font-weight: 500;
      }
      .controls button {
        padding: 8px 15px;
        margin-left: 10px;
        background-color: #3498db;
        color: #fff;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: 500;
      }
      .controls button:hover {
        background-color: #2980b9;
        transform: translateY(-2px);
      }
      .controls button#restart {
        background-color: #e74c3c;
      }
      .controls button#restart:hover {
        background-color: #c0392b;
      }
      .controls button#find-set {
        background-color: #f39c12;
      }
      .controls button#find-set:hover {
        background-color: #d35400;
      }
      .game-board {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 12px;
        margin-bottom: 30px;
        padding: 5px;
      }
      .card {
        aspect-ratio: 2/3;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 3px 6px #0000001a;
        padding: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
        border: 1px solid #e0e0e0;
        min-height: 100px;
      }
      .card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 10px #00000026;
      }
      .card.selected {
        box-shadow: 0 0 0 3px #4caf50, 0 5px 10px #0000001a;
        transform: translateY(-3px) scale(1.03);
      }
      .card.correct-set {
        box-shadow: 0 0 15px #4caf50;
        animation: correct-pulse 0.8s ease;
      }
      .card.incorrect-set {
        box-shadow: 0 0 15px #e74c3c;
        animation: incorrect-pulse 0.8s ease;
      }
      .card.hint-pulse {
        animation: hint-pulse 2s ease;
      }
      .card.new-card {
        animation: new-card-highlight 1s ease;
      }
      .card-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-around;
        height: 100%;
        width: 100%;
      }
      .symbol-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 5px 0;
        height: 30px;
      }
      .symbol {
        text-align: center;
        margin: 3px 0;
        transition: transform 0.2s ease;
        display: block !important;
        font-size: 0 !important;
      }
      .symbol.triangle {
        position: relative;
        width: 0 !important;
        height: 0 !important;
        border-left: 15px solid transparent !important;
        border-right: 15px solid transparent !important;
        border-bottom: 25px solid currentColor !important;
        background-color: transparent !important;
        display: block !important;
        margin: 0 auto;
        min-width: 30px;
        min-height: 20px;
      }
      .symbol.triangle.open {
        position: relative;
        width: 30px !important;
        height: 25px !important;
        background-color: transparent !important;
        border: none !important;
        margin: 0 auto;
      }
      .symbol.triangle.open:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: currentColor;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        z-index: 1;
      }
      .symbol.triangle.open:after {
        content: "";
        position: absolute;
        top: 2px;
        left: 2px;
        width: calc(100% - 4px);
        height: calc(100% - 4px);
        background-color: #fff;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        z-index: 2;
      }
      .symbol.triangle.striped {
        position: relative;
        width: 0 !important;
        height: 0 !important;
        border-left: 15px solid transparent !important;
        border-right: 15px solid transparent !important;
        border-bottom: 25px solid transparent !important;
        background-color: transparent !important;
        display: block !important;
        margin: 0 auto;
        min-width: 30px;
        min-height: 20px;
      }
      .symbol.triangle.striped:before {
        content: "";
        position: absolute;
        width: 30px;
        height: 26px;
        top: 0;
        left: -15px;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        background-image: repeating-linear-gradient(
          45deg,
          currentColor,
          currentColor 3px,
          transparent 3px,
          transparent 6px
        );
        z-index: 1;
      }
      .symbol.triangle.striped:after {
        content: "";
        position: absolute;
        width: 30px;
        height: 26px;
        top: 0;
        left: -15px;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        box-shadow: 0 0 0 1px currentColor;
        background-color: transparent;
        z-index: 2;
      }
      .symbol.triangle.solid {
        border-bottom-color: currentColor !important;
      }
      .symbol.rectangle {
        border-radius: 0 !important;
        display: block !important;
        margin: 0 auto;
        min-height: 20px;
        min-width: 30px;
      }
      .symbol.rectangle.open {
        background-color: transparent !important;
        border: 2px solid currentColor !important;
      }
      .symbol.rectangle.striped {
        background: repeating-linear-gradient(
          45deg,
          currentColor,
          currentColor 3px,
          transparent 3px,
          transparent 6px
        ) !important;
        border: 1px solid currentColor !important;
      }
      .symbol.rectangle.solid {
        background-color: currentColor !important;
      }
      .symbol.oval {
        border-radius: 50% !important;
        display: block !important;
        margin: 0 auto;
        min-height: 20px;
        min-width: 30px;
      }
      .symbol.oval.open {
        background-color: transparent !important;
        border: 2px solid currentColor !important;
      }
      .symbol.oval.striped {
        background: repeating-linear-gradient(
          45deg,
          currentColor,
          currentColor 3px,
          transparent 3px,
          transparent 6px
        ) !important;
        border: 1px solid currentColor !important;
      }
      .symbol.oval.solid {
        background-color: currentColor !important;
      }
      .card:hover .symbol {
        transform: scale(1.1);
      }
      .rules {
        background-color: #f9f9f9;
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
        box-shadow: 0 2px 4px #0000000d;
      }
      .rules h2 {
        margin-bottom: 10px;
        color: #2c3e50;
        font-size: 1.4rem;
      }
      .rules p {
        margin-bottom: 10px;
        line-height: 1.5;
        color: #34495e;
      }
      @media (min-width: 769px) {
        .game-board {
          grid-template-columns: repeat(6, 1fr);
        }
      }
      @media (max-width: 768px) {
        .game-board {
          grid-template-columns: repeat(4, 1fr);
        }
        .game-info {
          flex-direction: column;
          gap: 10px;
        }
        .controls {
          display: flex;
          justify-content: center;
          flex-wrap: wrap;
          gap: 10px;
        }
        .controls button {
          margin: 0;
          flex: 1;
          min-width: 80px;
        }
        .stats {
          justify-content: center;
        }
      }
      @media (max-width: 600px) {
        .game-board {
          grid-template-columns: repeat(6, 1fr) !important;
          grid-auto-rows: auto;
          gap: 5px;
          max-height: none;
          overflow-y: visible;
        }
        .card {
          min-height: 40px !important;
          padding: 2px;
          aspect-ratio: 2/3;
          min-width: 0;
          width: 100%;
        }
        .symbol {
          font-size: 0.7rem !important;
        }
        .symbol-wrapper {
          margin: 1px 0;
          height: 14px;
        }
        .card:nth-child(n + 13) {
          display: flex;
        }
        .symbol.rectangle,
        .symbol.oval {
          width: 45% !important;
          height: 10px !important;
        }
        .symbol.triangle {
          border-left: 8px solid transparent !important;
          border-right: 8px solid transparent !important;
          border-bottom: 14px solid currentColor !important;
          min-width: 16px;
          min-height: 12px;
        }
      }
      @media (max-width: 480px) {
        .game-board {
          grid-template-columns: repeat(6, 1fr) !important;
          gap: 3px;
        }
        h1 {
          font-size: 1.4rem;
        }
        .card {
          padding: 1px;
          min-height: 35px !important;
          border-radius: 4px;
        }
        .stats {
          flex-direction: column;
          gap: 5px;
          align-items: center;
        }
        .symbol.rectangle,
        .symbol.oval {
          width: 40% !important;
          height: 8px !important;
        }
        .symbol.triangle {
          border-left: 6px solid transparent !important;
          border-right: 6px solid transparent !important;
          border-bottom: 10px solid currentColor !important;
          min-width: 12px;
          min-height: 8px;
        }
        .symbol-wrapper {
          height: 12px;
          margin: 0;
        }
      }
      @media (max-width: 350px) {
        .game-board {
          grid-template-columns: repeat(6, 1fr) !important;
          gap: 2px;
        }
        .card {
          min-height: 30px !important;
          padding: 1px;
          border-width: 1px;
        }
        .symbol-wrapper {
          height: 10px;
        }
        .symbol {
          font-size: 0.6rem !important;
        }
        .symbol.rectangle,
        .symbol.oval {
          width: 35% !important;
          height: 6px !important;
        }
        .symbol.triangle {
          border-left: 4px solid transparent !important;
          border-right: 4px solid transparent !important;
          border-bottom: 8px solid currentColor !important;
          min-width: 8px;
          min-height: 6px;
        }
      }
      @keyframes correct-pulse {
        0%,
        to {
          transform: translateY(-3px) scale(1);
        }
        50% {
          transform: translateY(-3px) scale(1.08);
          background-color: #4caf501a;
        }
      }
      @keyframes incorrect-pulse {
        0%,
        to {
          transform: translateY(0) scale(1);
        }
        50% {
          transform: translateY(0) scale(1.05);
          background-color: #e74c3c1a;
        }
      }
      @keyframes hint-pulse {
        0%,
        to {
          box-shadow: 0 0 #f39c1266;
        }
        50% {
          box-shadow: 0 0 20px #f39c12cc;
        }
      }
      @keyframes new-card-highlight {
        0% {
          transform: translateY(-10px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
      .game-board.highlight {
        animation: board-highlight 1s ease;
      }
      .game-board.restart-animation {
        animation: restart 0.5s ease;
      }
      @keyframes board-highlight {
        0%,
        to {
          background-color: transparent;
        }
        50% {
          background-color: #3498db1a;
        }
      }
      @keyframes restart {
        0% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0;
          transform: scale(0.95);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 12px 20px;
        background-color: #f8f9fa;
        border-left: 4px solid #6c757d;
        border-radius: 4px;
        box-shadow: 0 4px 12px #0000001a;
        z-index: 1000;
        transform: translate(120%);
        transition: transform 0.3s ease;
        max-width: 350px;
      }
      .notification.show {
        transform: translate(0);
      }
      .notification.success {
        background-color: #d4edda;
        border-color: #4caf50;
        color: #155724;
      }
      .notification.warning {
        background-color: #fff3cd;
        border-color: #f39c12;
        color: #856404;
      }
      .game-over-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #00000080;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .game-over-modal.show {
        opacity: 1;
      }
      .modal-content {
        background-color: #fff;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 10px 25px #0003;
        text-align: center;
        transform: scale(0.9);
        transition: transform 0.3s ease;
        max-width: 400px;
        width: 90%;
      }
      .game-over-modal.show .modal-content {
        transform: scale(1);
      }
      .modal-content h2 {
        color: #2c3e50;
        margin-bottom: 15px;
      }
      .modal-content p {
        color: #34495e;
        margin-bottom: 20px;
      }
      .modal-content button {
        padding: 10px 25px;
        background-color: #3498db;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: 500;
        transition: background-color 0.2s;
      }
      .modal-content button:hover {
        background-color: #2980b9;
      }
      .controls button.disabled {
        background-color: #ccc;
        cursor: not-allowed;
      }
      .controls button.disabled:hover {
        background-color: #ccc;
        transform: none;
      }
      .intro-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #000c;
        z-index: 3000;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow-y: auto;
      }
      .intro-overlay.hidden {
        display: none;
        z-index: -1;
        pointer-events: none;
      }
      .intro-content {
        background-color: #fff;
        border-radius: 15px;
        box-shadow: 0 10px 30px #0000004d;
        padding: 30px;
        max-width: 800px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
      }
      .intro-content h2 {
        color: #2c3e50;
        text-align: center;
        font-size: 2rem;
        margin-bottom: 20px;
        border-bottom: 2px solid #e9f5f5;
        padding-bottom: 15px;
      }
      .intro-section {
        margin-bottom: 30px;
      }
      .intro-section h3 {
        color: #3498db;
        margin-bottom: 15px;
        font-size: 1.4rem;
      }
      .intro-examples {
        display: flex;
        flex-direction: column;
        gap: 25px;
        margin-top: 20px;
      }
      .example {
        background-color: #f9f9f9;
        border-radius: 10px;
        padding: 15px;
        box-shadow: 0 2px 5px #0000000d;
      }
      .example h4 {
        margin-bottom: 15px;
        color: #2c3e50;
        font-size: 1.1rem;
      }
      .example-cards {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 15px;
      }
      .example-card {
        width: 80px;
        height: 120px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 5px #0000001a;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid #e0e0e0;
      }
      .example-symbol {
        font-size: 0;
        text-align: center;
      }
      .example-symbol.red {
        color: red;
      }
      .example-symbol.green {
        color: green;
      }
      .example-symbol.purple {
        color: purple;
      }
      .example-symbol.oval {
        border-radius: 50% !important;
        display: block !important;
        margin: 0 auto;
        width: 30px !important;
        height: 20px !important;
        background-color: currentColor;
        font-size: 0 !important;
        text-indent: -9999px;
        overflow: hidden;
      }
      .example-symbol.oval.open {
        background-color: transparent !important;
        border: 2px solid currentColor !important;
      }
      .example-symbol.oval.striped {
        background: repeating-linear-gradient(
          45deg,
          currentColor,
          currentColor 3px,
          transparent 3px,
          transparent 6px
        ) !important;
        border: 1px solid currentColor !important;
      }
      .example-symbol.oval.solid {
        background-color: currentColor !important;
      }
      .example-symbol.diamond {
        transform: rotate(45deg);
      }
      .example-symbol.solid {
        opacity: 1;
      }
      .example-symbol.striped {
        opacity: 0.6;
      }
      .example-symbol.open {
        opacity: 0.3;
        border: 2px solid;
        background: transparent;
        color: transparent;
      }
      .example-symbol.rectangle {
        border-radius: 0 !important;
        display: block !important;
        margin: 0 auto;
        width: 30px !important;
        height: 20px !important;
        background-color: currentColor;
        font-size: 0 !important;
        text-indent: -9999px;
        overflow: hidden;
      }
      .example-symbol.rectangle.open {
        background-color: transparent !important;
        border: 2px solid currentColor !important;
      }
      .example-symbol.rectangle.striped {
        background: repeating-linear-gradient(
          45deg,
          currentColor,
          currentColor 3px,
          transparent 3px,
          transparent 6px
        ) !important;
        border: 1px solid currentColor !important;
      }
      .example-symbol.rectangle.solid {
        background-color: currentColor !important;
      }
      .example-symbol.triangle {
        position: relative;
        width: 0 !important;
        height: 0 !important;
        border-left: 15px solid transparent !important;
        border-right: 15px solid transparent !important;
        border-bottom: 25px solid currentColor !important;
        background-color: transparent !important;
        display: block !important;
        margin: 0 auto;
        font-size: 0 !important;
        text-indent: -9999px;
        overflow: hidden;
      }
      .example-symbol.triangle.open {
        position: relative;
        width: 30px !important;
        height: 25px !important;
        background-color: transparent !important;
        border: none !important;
        margin: 0 auto;
      }
      .example-symbol.triangle.open:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: currentColor;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        z-index: 1;
      }
      .example-symbol.triangle.open:after {
        content: "";
        position: absolute;
        top: 2px;
        left: 2px;
        width: calc(100% - 4px);
        height: calc(100% - 4px);
        background-color: #fff;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        z-index: 2;
      }
      .example-symbol.triangle.striped {
        position: relative;
        width: 0 !important;
        height: 0 !important;
        border-left: 15px solid transparent !important;
        border-right: 15px solid transparent !important;
        border-bottom: 25px solid transparent !important;
        background-color: transparent !important;
        display: block !important;
        margin: 0 auto;
      }
      .example-symbol.triangle.striped:before {
        content: "";
        position: absolute;
        width: 30px;
        height: 26px;
        top: 0;
        left: -15px;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        background-image: repeating-linear-gradient(
          45deg,
          currentColor,
          currentColor 3px,
          transparent 3px,
          transparent 6px
        );
        z-index: 1;
      }
      .example-symbol.triangle.striped:after {
        content: "";
        position: absolute;
        width: 30px;
        height: 26px;
        top: 0;
        left: -15px;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        box-shadow: 0 0 0 1px currentColor;
        background-color: transparent;
        z-index: 2;
      }
      .example-symbol.triangle.solid {
        border-bottom-color: currentColor !important;
      }
      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }
      .feature {
        background-color: #f9f9f9;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 5px #0000000d;
      }
      .feature h4 {
        margin-bottom: 10px;
        color: #2c3e50;
      }
      .feature-examples {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .feature-item {
        padding: 5px 10px;
        border-radius: 4px;
        background-color: #fff;
        box-shadow: 0 1px 3px #0000001a;
      }
      .feature-item.red {
        color: red;
      }
      .feature-item.green {
        color: green;
      }
      .feature-item.purple {
        color: purple;
      }
      .solid-example {
        background-color: #3498db;
        color: #fff;
      }
      .striped-example {
        background: repeating-linear-gradient(
          45deg,
          #3498db,
          #3498db 3px,
          #fff 3px,
          #fff 6px
        );
        color: transparent;
        border: 1px solid #3498db;
      }
      .open-example {
        border: 2px solid #3498db;
        color: #3498db;
        background-color: transparent;
      }
      .intro-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 30px;
      }
      .show-intro-checkbox {
        display: flex;
        align-items: center;
        gap: 5px;
        font-size: 0.9rem;
        color: #7f8c8d;
      }
      .start-button {
        padding: 12px 25px;
        background-color: #3498db;
        color: #fff;
        border: none;
        border-radius: 6px;
        font-weight: 600;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      .start-button:hover {
        background-color: #2980b9;
        transform: translateY(-2px);
      }
      .help-button {
        position: absolute;
        top: 15px;
        right: 15px;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: #3498db;
        color: #fff;
        border: none;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .help-btn {
        background-color: #9b59b6 !important;
      }
      .help-btn:hover {
        background-color: #8e44ad !important;
      }
      @media (max-width: 600px) {
        .intro-content {
          padding: 20px;
        }
        .example-cards {
          flex-direction: column;
          align-items: center;
        }
        .features-grid {
          grid-template-columns: 1fr;
        }
        .intro-controls {
          flex-direction: column;
          gap: 15px;
        }
        .start-button {
          width: 100%;
        }
      }
      .ad-container {
        margin: 20px auto;
        text-align: center;
        overflow: hidden;
        background-color: #f9f9f9;
        border-radius: 8px;
        padding: 0;
        width: 320px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .ad-banner {
        width: 320px;
        height: 50px;
      }
      .main-content-wrapper {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin-bottom: 30px;
        align-items: center;
      }
      .game-board {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 12px;
        width: 100%;
        padding: 5px;
      }
      .ad-sidebar,
      .ad-in-feed {
        width: 320px;
        height: 50px;
      }
      @media (max-width: 768px) {
        .main-content-wrapper {
          flex-direction: column;
          align-items: center;
        }
        .ad-container {
          margin: 15px auto;
        }
      }
    </style>
  </head>
  <body>
    <!-- 插屏广告覆盖层 -->
    <div id="interstitial-ad-overlay" class="interstitial-ad-overlay">
      <div class="interstitial-ad-container">
        <div class="countdown-timer" id="countdown-timer">
          广告将在 10 秒后关闭
        </div>
        <ins
          class="adsbygoogle"
          style="display: inline-block; width: 300px; height: 250px"
          data-ad-client="ca-pub-3424102604992913"
          data-ad-slot="2199356140"
        ></ins>
        <script>
          // 当广告显示时初始化
          document
            .getElementById("interstitial-ad-overlay")
            .addEventListener("DOMNodeInserted", function (event) {
              if (
                event.target.tagName === "INS" &&
                !event.target.hasAttribute("data-ad-status")
              ) {
                try {
                  (adsbygoogle = window.adsbygoogle || []).push({});
                } catch (e) {
                  console.error("插屏广告加载失败:", e);
                }
              }
            });
        </script>
      </div>
    </div>

    <div id="intro-overlay" class="intro-overlay">
      <div class="intro-content">
        <h2>Welcome to Set!</h2>
        <div class="intro-section">
          <h3>How to Play</h3>
          <p>
            The goal is to find "sets" of three cards where each feature is
            either all the same or all different across the cards.
          </p>

          <div class="intro-examples">
            <div class="example">
              <h4>This is a SET ✓</h4>
              <div class="example-cards">
                <div class="example-card">
                  <div class="example-symbol red oval solid"></div>
                </div>
                <div class="example-card">
                  <div class="example-symbol green oval solid"></div>
                </div>
                <div class="example-card">
                  <div class="example-symbol purple oval solid"></div>
                </div>
              </div>
              <p>
                Colors are all <strong>different</strong>, shapes are all the
                <strong>same</strong>, numbers are all the
                <strong>same</strong>, shadings are all the
                <strong>same</strong>.
              </p>
            </div>

            <div class="example">
              <h4>This is NOT a SET ✗</h4>
              <div class="example-cards">
                <div class="example-card">
                  <div class="example-symbol red triangle solid"></div>
                </div>
                <div class="example-card">
                  <div class="example-symbol red oval solid"></div>
                </div>
                <div class="example-card">
                  <div class="example-symbol green triangle solid"></div>
                </div>
              </div>
              <p>
                Colors are not all the same or all different. Shapes are not all
                the same or all different.
              </p>
            </div>
          </div>
        </div>

        <div class="intro-section">
          <h3>Card Features</h3>
          <div class="features-grid">
            <div class="feature">
              <h4>Colors</h4>
              <div class="feature-examples">
                <span class="feature-item red">Red</span>
                <span class="feature-item green">Green</span>
                <span class="feature-item purple">Purple</span>
              </div>
            </div>
            <div class="feature">
              <h4>Shapes</h4>
              <div class="feature-examples">
                <span class="feature-item"
                  ><div
                    style="
                      display: inline-block;
                      width: 15px;
                      height: 15px;
                      background: currentColor;
                      border-radius: 50%;
                      margin-right: 5px;
                      vertical-align: middle;
                    "
                  ></div>
                  Oval</span
                >
                <span class="feature-item">▲&nbsp;Triangle</span>
                <span class="feature-item"
                  ><div
                    style="
                      display: inline-block;
                      width: 15px;
                      height: 15px;
                      background: currentColor;
                      margin-right: 5px;
                      vertical-align: middle;
                    "
                  ></div>
                  Rectangle</span
                >
              </div>
            </div>
            <div class="feature">
              <h4>Number</h4>
              <div class="feature-examples">
                <span class="feature-item">1 symbol</span>
                <span class="feature-item">2 symbols</span>
                <span class="feature-item">3 symbols</span>
              </div>
            </div>
            <div class="feature">
              <h4>Shading</h4>
              <div class="feature-examples">
                <span class="feature-item solid-example">Solid</span>
                <span class="feature-item striped-example">Striped</span>
                <span class="feature-item open-example">Open</span>
              </div>
            </div>
          </div>
        </div>

        <div class="intro-controls">
          <label class="show-intro-checkbox">
            <input type="checkbox" id="dont-show-again" /> Don't show this again
          </label>
          <button id="start-game" class="start-button">Start Playing!</button>
        </div>

        <button id="help-button" class="help-button">?</button>
      </div>
    </div>

    <div class="container">
      <header>
        <h1>Set Card Game</h1>
      </header>

      <!-- 横幅广告 -->
      <div class="ad-container ad-banner">
        <ins
          class="adsbygoogle"
          style="display: block; width: 320px; height: 50px"
          data-ad-client="ca-pub-3424102604992913"
          data-ad-slot="2199356140"
          data-ad-format="auto"
          data-full-width-responsive="false"
        ></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>

      <div class="game-info">
        <div class="stats">
          <div id="sets-found">Sets Found: <span id="score">0</span></div>
          <div id="cards-remaining">
            Cards Remaining: <span id="remaining">81</span>
          </div>
        </div>
        <div class="controls">
          <button id="deal-cards">Deal Cards</button>
          <button id="find-set">Hint</button>
          <button id="restart">Restart Game</button>
          <button id="show-help" class="help-btn">How to Play</button>
        </div>
      </div>

      <div class="main-content-wrapper">
        <div id="game-board" class="game-board">
          <!-- Cards will be dynamically added here -->
        </div>

        <!-- 侧边栏广告 -->
        <div class="ad-container ad-sidebar">
          <ins
            class="adsbygoogle"
            style="display: block; width: 320px; height: 50px"
            data-ad-client="ca-pub-3424102604992913"
            data-ad-slot="2199356140"
            data-ad-format="auto"
            data-full-width-responsive="false"
          ></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </div>

      <div class="rules">
        <h2>How to Play</h2>
        <p>
          Find sets of three cards where for each attribute, the cards either
          all match or all differ.
        </p>
        <p>
          Attributes: Color (red, green, purple), Shape (oval, triangle,
          rectangle), Number (1, 2, 3), Shading (solid, striped, open)
        </p>
      </div>

      <!-- 信息流广告 -->
      <div class="ad-container ad-in-feed">
        <ins
          class="adsbygoogle"
          style="display: block; width: 320px; height: 50px"
          data-ad-client="ca-pub-3424102604992913"
          data-ad-slot="2199356140"
          data-ad-format="auto"
          data-full-width-responsive="false"
        ></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
    </div>
  </body>
</html>
